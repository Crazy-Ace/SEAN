function handleSuccess(e){return console.log(e.data),{success:!0}}function handleError(e){return function(){return{success:!1,message:e}}}var app=angular.module("app",["ngRoute"]);!function(){"use strict";function e(e,r){e.when("/",{controller:"LoginCtrl",templateUrl:"login.html"}).when("/register",{controller:"RegisterCtrl",templateUrl:"register.html"}).otherwise({redirectTo:"/"})}angular.module("app").config(e),e.$inject=["$routeProvider","$locationProvider"]}(),angular.module("app").controller("ApplicationCtrl",["$scope","$rootScope",function(e,r){}]),angular.module("app").controller("LoginCtrl",["$scope","$rootScope","UserService",function(e,r,n){e.login=function(r,o){console.log(r,o),e.dataLoading=!0,n.login({username:r,password:o}).then(function(r){r.success?(console.log("Your in"),$location.path("/")):(console.log("Nope!"),e.dataLoading=!1)})}}]);var app=angular.module("app");app.controller("RegisterCtrl",["$scope","$location","UserService",function(e,r,n){e.register=function(o,t,a,l){console.log(o,t,a,l),e.dataLoading=!0;var s={firstName:o,lastName:t,username:a,password:l};n.register(s).then(function(n){n.success?r.path("/"):e.dataLoading=!1})}}]);var app=angular.module("app");app.service("UserService",["$http",function(e){var r=this;r.getAllUsers=function(){return e.get("/api/users").then(handleSuccess,handleError("Error getting all users"))},r.register=function(r){return e.post("/api/users",r).then(handleSuccess,handleError("Error creating user"))},r.login=function(r){return e.post("/api/authenticate",r).then(handleSuccess,handleError("Error login in user"))}}]);